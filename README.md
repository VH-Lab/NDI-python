This is a Python wrapper around ndi-schema objects and reference implementations which can be used to help implement support for new probes, databases, and apps.

# Usage

Basic usage is recommended via [Jupyter Notebook](https://jupyter.org/). Any Jupyter install should work but [Anaconda](https://www.anaconda.com/distribution/) (Python 3) is an easy way to get started with Jupyter.

## NDI Schema Dependency
NDI Python relies on the flatbuffers generated by NDI Schema. To link this dependency, follow these steps:
1. Clone the ndi-schema repository to your machine _outside_ of the ndi-python directory.
2. Run the command `./scripts/build-schema.sh` from within the ndi-schema directory.
3. Run the command `ln -s <path-to-ndi-schema-directory>/build/ndi/scripts ./ndi` from within the ndi-python directory. eg. if ndi-schema directory is called 'NDI-schema' and it's in the same directory as ndi-python, then run `ln -s ../NDI_schema/build/ndi/scripts ./ndi`.

## Package manager
Ndi-python uses pipenv is used for package management, it can be installed with pip.

## Jupyter Notebook Quickstart

```shell
# Install dependencies (use the --dev flag if you plan to run the linter, test suite, or docs)
$ pipenv install
# Activate virtualenv
$ pipenv shell
# Verify virtual environment (OPTIONAL)
(ndi-python) $ which jupyter
# Start Jupyter Notebook
(ndi-python) $ jupyter notebook
```

# Developer Notes

The Python package makes use of [native namespace packages available in Python 3.3 and later](https://packaging.python.org/guides/packaging-namespace-packages/#native-namespace-packages).

NDI_Object subclasses are PascalCase, their collection/table names are snake_case + 's', and their reference keys are snake_case + '_id'.

## Documentation

Documentation is powered by [Sphinx](http://www.sphinx-doc.org/en/master/). The doc site's source code and build files can be found in ./docs.

We use Sphinx's autodoc extension to generate the source files from the codebase. This means that docstrings must be [properly formatted](https://sphinx-rtd-tutorial.readthedocs.io/en/latest/docstrings.html).

If you are using VSCode it is recommended that you install the [autoDocstring](https://marketplace.visualstudio.com/items?itemName=njpwerner.autodocstring) extension. You will have to add `"autoDocstring.docstringFormat": "sphinx"` to the your [settings.json](https://vscode.readthedocs.io/en/latest/getstarted/settings/).

Docstrings may also include standard [reST](https://thomas-cokelaer.info/tutorials/sphinx/rest_syntax.html) syntax for more sophisticated markup.

Documentation must be rebuilt with `bin/mkdocs` on changes to the codebase. To rebuild and view the documentation in the browser, run `bin/docs`. Sphinx must be installed (`pipenv install --dev sphinx`).