Glossary
********

.. glossary::
  :sorted:

  DAQ
    An abbreviation for "Data AQuisition". A DAQ system consists of a sensor that picks up some analog signal, a DAQ device that converts that output to digital, and software that can process, store, and make use of the resulting data.

  NDI schema
    A :term:`flatbuffer` table that is used to generate a :term:`flatbuffer class`.

  flatbuffer class
    These are generated by the flatbuffer schema compiler `flatc <https://google.github.io/flatbuffers/flatbuffers_guide_using_schema_compiler.html>`_ when run with the :code:`--python` flag. The :term:`NDI schema` that build our flatbuffer classes can be found at `ndi_schema <>`_.

  .. currentmodule:: ndi.ndi_object
  NDI class
    A class derived from :class:`NDI_Object`, whose purpose is to act as a wrapper for a :term:`flatbuffer class`. It serves as simplified means of quickly converting between an :term:`NDI object` and and its :term:`flatbuffer` bytearrays. NDI classes are named in PascalCase.

  NDI object
    An instance of an :term:`NDI class`.

  NDI ID
    Every :term:`NDI object` should have a unique identifier. This string is automatically generated when a new object is instantiated if an id is not given. IDs are preserved between NDI objects and the associated :term:`document`\ s in database.

  flatbuffer
    A cross-platform data serialization format. Flatbuffers are highly efficient at accessing large amounts of serialized data at minimal memory and processing cost. It achieves this by relying upon predefined schema that are known to all parties involved. See the docs `here <https://google.github.io/flatbuffers/>`_

  database
    A repository of data structured by :term:`collection`. In this library, a database could refer to any store of information that follows the schema defined in `ndi-schema <>`_. It could be implemented as a posgres or mongo database, a file system, a cache, or any other form of stored data.
    .. note::
      The current library implements SQL and FileSystem databases.

  collection
    The general term for a subset of structured data in a :term:`database` that takes its structure from a flatbuffer table in `ndi-schema <>`_. In a NoSQL database this would fall under the same name, but in a SQL database this might be refered to as a table.

    .. note::
       Collections are standardly named after their associated :term:`NDI class`, only in snake_case and with an appended 's' (eg. 'DaqSystem' -> 'daq_systems' or 'NDIClass' -> 'ndi_classs'). We use :func:`ndi.utils.class_to_collection_name` for consistent conversion.

  label
    The general term for a column header in a SQL database or a key in a NoSQL document.

  field
    The general term for a single value associated with a label in a :term:`document`.

  document
    The general term for a single item in a database :term:`collection`. Might also be referred to as a record or a row.

  NDI query
    An instance of :class:`Query`, :class:`AndQuery`, or :class:`OrQuery`. Contains a query or list of queries, where a single query has properties *field*, *operator*, and *value*. Used for ``find``, ``update_many``, and ``delete_many`` database methods.

  payload
    A dict whose keys are a subset of the fields in a given :term:`collection`, and whose values must comply with the types defined for those fields in the corresponding table defined by the `ndi-schema <>`_. For example, the following :term:`NDI schema`:
    ::
      enum ProbeType:ubyte {
        ntrode,
        electrode,
        patch,

      }
      table Probe {
        id:string;
        name:string;
        reference:ushort;
        type:ProbeType;
        daq_system_id:string;
      }
    might have payloads that look like any of the following:
    ::
      p1 = {
        'id': '123j4h1h4g5hg35c7h',
        'name': 'probe_1',
        'reference': 1,
        'type': 'electrode',
        'daq_system_id': '8907b785nm5d4d5hmd',
      }
      p1_update = {
        'id': '123j4h1h4g5hg35c7h',
        'name': 'probe_1',
        'type': 'patch',
      }
      p_empty = {}

  CRUD
    A term for the collection of :term:`database` operations that Create, Read, Update, or Delete a :term:`document`.

  SQLA document
    A SQL Alchemy representation of a table row.

  SQLA table
    A SQL Alchemy representation of a table (`docs <https://docs.sqlalchemy.org/en/13/core/metadata.html>`_\ ).

  SQLA query
    The SQL Alchemy equivalent of an :term:`NDI query` (`docs <https://www.tutorialspoint.com/sqlalchemy/sqlalchemy_orm_filter_operators.htm>`_). Not to be confused with the terms :term:`SQL query` or :term:`SQLA session query`.

  SQLA session
    A SQL Alchemy transaction manager. Each new SQL transaction must be initialized with a sessionmaker, which returns the session object. :term:`SQLA session query`\ s can be run on this object and are how the SQL Alchemy `ORM <https://docs.sqlalchemy.org/en/13/orm/>`_ builds :term:`SQL query`\ s. These queries are not sent to the database until the session is committed, and the session should be closed when operations are complete.

    .. currentmodule:: ndi.database.sql

    .. note::
       The session is for the most part managed by the SQL :class:`Collection` and its associated decorators. To access the session directly, use the :func:`SQL._sqla_open_session` method.

  SQLA session query
    A method called on a SQL Alchemy session to begin an operation on an associated :term:`SQLA table` (`docs <https://docs.sqlalchemy.org/en/13/orm/query.html>`_). The :term:`SQLA session query` is how SLQ Alchemy creates the :term:`SQL query`\ s it uses to interact with the database. Operations can be chained to add complexity to the SQL query, and include things like ``query``, ``join``, and ``filter``. Not to be confused with the terms :term:`SQL query` or :term:`SQLA query`.

  SQL query
    A set of instructions sent to a SQL database to request and manipulate its data. Different databases types (postgres, mysql, etc.) have different syntaxes. Not to be confused with the terms :term:`SQLA query` or :term:`SQLA session query`.